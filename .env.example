# ============================================
# PortLink Backend Configuration
# ============================================
# Copy this file to .env and update the values

# ============================================
# Application Settings
# ============================================
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
API_PREFIX=api/v1
LOG_LEVEL=info

# Frontend URL (for email links, CORS)
FRONTEND_URL=http://localhost:3001

# CORS - comma-separated list of allowed origins
# Use * for development, specific domains for production
CORS_ORIGIN=http://localhost:3001,http://localhost:3000

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL="postgresql://portlink:portlink123@localhost:5432/portlink?schema=public"

# ============================================
# JWT Authentication
# ============================================
# IMPORTANT: Change these in production!
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_EXPIRES_IN=7d

# Refresh Token Settings
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production-min-32-chars
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# Redis Configuration (Caching & Sessions)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# AWS S3 Configuration (File Uploads)
# ============================================
# Get these from AWS IAM console
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=ap-northeast-2
AWS_S3_BUCKET=portlink-uploads

# For local development, you can use MinIO or LocalStack
# AWS_ENDPOINT=http://localhost:9000  # Uncomment for MinIO

# ============================================
# Email Configuration (SMTP)
# ============================================
# Gmail example - use App Password, not regular password
# See: https://support.google.com/accounts/answer/185833
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# From address for outgoing emails
EMAIL_FROM="PortLink <noreply@portlink.com>"

# ============================================
# Rate Limiting
# ============================================
# Requests per minute for the "long" throttle tier
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# ============================================
# Swagger Documentation
# ============================================
# Enable Swagger in production (disabled by default)
ENABLE_SWAGGER=false

# ============================================
# OpenAI API Configuration
# ============================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini

# ============================================
# Docker Compose Database Credentials
# (Used by docker-compose.yml)
# ============================================
POSTGRES_USER=portlink
POSTGRES_PASSWORD=portlink123
POSTGRES_DB=portlink
